/**
* @file eogll_version.h.in
* @brief Versioning information for EOGLL
*
* This file is used to generate the versioning information for EOGLL.
* It is generated by CMake and should not be modified by hand.
*
* @ingroup EOGLL
*/

#pragma once
#ifndef _EOGLL_VERSION_H_
#define _EOGLL_VERSION_H_

#include "eogll/pch.h"

#ifdef __cplusplus
extern "C" {
#endif

#define EOGLL_VERSION_MAJOR @EOGLL_VERSION_MAJOR@
#define EOGLL_VERSION_MINOR @EOGLL_VERSION_MINOR@
#define EOGLL_VERSION_PATCH @EOGLL_VERSION_PATCH@

/**
 * @brief Gets the version of EOGLL
 * @return The version of EOGLL
 *
 * Should output something like "EOGLL 0.1.0"
 */
EOGLL_DECL_FUNC_ND const char* eogllGetVersionString();

/**
 * @brief Checks if we are running a version equal to or greater than the specified version
 */
#define EOGLL_VERSION_AT_LEAST(major, minor, patch) \
    (EOGLL_VERSION_MAJOR > major || \
    (EOGLL_VERSION_MAJOR == major && EOGLL_VERSION_MINOR > minor) || \
    (EOGLL_VERSION_MAJOR == major && EOGLL_VERSION_MINOR == minor && EOGLL_VERSION_PATCH >= patch))

/**
 * @brief Creates an error if the version is less than the specified version
 */
#define EOGLL_VERSION_CHECK(major, minor, patch) \
    static_assert(EOGLL_VERSION_AT_LEAST(major, minor, patch), "EOGLL version is not new enough")

#ifdef __cplusplus
}
#endif

#endif // _EOGLL_VERSION_H_